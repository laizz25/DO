<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Decolonising Ourselves ‚Äî Bingo Draw</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      min-height: 100vh;
      background: #f5efe3; /* earthy background */
      display: flex;
      justify-content: center;
      align-items: flex-start;
      color: #3f3a33;
      padding: 24px;
    }

    .page {
      width: min(1100px, 100%);
      background: rgba(255, 252, 246, 0.96);
      border-radius: 24px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.08);
      padding: 24px 28px 32px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .eyebrow {
      font-size: 0.75rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: #7a7a6a;
      margin-bottom: 6px;
    }

    .title-row {
      display: flex;
      justify-content: space-between;
      gap: 16px;
      align-items: baseline;
      flex-wrap: wrap;
    }

    h1 {
      font-size: 1.9rem;
      font-weight: 700;
      color: #2c3b32;
    }

    .subtitle {
      font-size: 0.9rem;
      color: #73685a;
    }

    .controls-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      margin-top: 8px;
    }

    .btn {
      border-radius: 999px;
      padding: 8px 18px;
      font-size: 0.85rem;
      border: 1px solid transparent;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: #f2e9dd;
      color: #3f3a33;
    }

    .btn-primary {
      background: #2f6f4e;
      color: #fdfaf5;
      border-color: #22533a;
    }

    .btn-outline {
      background: #fdf8f1;
      color: #3f3a33;
      border-color: #d4c7b6;
    }

    .btn-danger {
      background: #b85c32;
      color: #fffaf3;
      border-color: #944624;
    }

    .btn:disabled {
      opacity: 0.45;
      cursor: default;
    }

    .shortcuts {
      margin-top: 4px;
      font-size: 0.8rem;
      color: #8a7c6b;
    }

    .shortcuts kbd {
      border-radius: 4px;
      border: 1px solid #c6b7a1;
      padding: 1px 6px;
      font-size: 0.78rem;
      background: #fdf8f1;
      margin: 0 2px;
    }

    .main-layout {
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 1.4fr);
      gap: 24px;
      margin-top: 10px;
    }

    @media (max-width: 900px) {
      .main-layout {
        grid-template-columns: 1fr;
      }
    }

    .left-card {
      background: #fffaf3;
      border-radius: 20px;
      border: 1px solid #e0d0bc;
      padding: 22px 18px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 28px;
    }

    .circle-wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .number-circle {
      position: relative;
      width: min(60vh, 360px);
      height: min(60vh, 360px);
      max-width: 360px;
      max-height: 360px;
      border-radius: 50%;
      background: #f7efe1;
      border: 2px solid #d5c4aa;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      color: #28523b;
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }

    .number-circle::before {
      content: "";
      position: absolute;
      inset: 12%;
      border-radius: 50%;
      border: 2px dashed #d5c4aa;
    }

    .number-circle.drawing {
      transform: scale(1.06);
      box-shadow: 0 0 0 4px rgba(47, 111, 78, 0.12);
      animation: wobble 0.6s infinite;
    }

    @keyframes wobble {
      0% { transform: scale(1.04) rotate(0deg); }
      25% { transform: scale(1.06) rotate(1deg); }
      50% { transform: scale(1.04) rotate(0deg); }
      75% { transform: scale(1.06) rotate(-1deg); }
      100% { transform: scale(1.04) rotate(0deg); }
    }

    .current-number {
      font-size: 4rem;
      font-weight: 700;
      z-index: 1;
    }

    .timer {
      margin-top: 10px;
      font-size: 1.1rem;
      z-index: 1;
      color: #83502d;
    }

    .timer.running {
      font-weight: 600;
    }

    .question-card {
      width: 100%;
      background: #fff8ee;
      border-radius: 18px;
      border: 1px dashed #e0c8a9;
      padding: 16px 18px 18px;
    }

    .question-label {
      font-size: 0.8rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #b26a38;
      margin-bottom: 4px;
    }

    .question-text {
      font-size: 1rem;
      font-weight: 600;
      color: #2f2922;
      line-height: 1.5;
      min-height: 48px;
    }

    .right-panel {
      background: #fdf8f1;
      border-radius: 20px;
      border: 1px solid #e3d6c5;
      padding: 18px 16px 18px;
    }

    .right-title {
      font-size: 0.95rem;
      font-weight: 600;
      color: #3b352e;
      margin-bottom: 10px;
    }

    .numbers-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
    }

    .num-chip {
      border-radius: 999px;
      padding: 6px 0;
      text-align: center;
      font-size: 0.9rem;
      background: #f5ecdf;
      border: 1px solid #d7c6ae;
      color: #3c342c;
    }

    .num-chip.drawn {
      background: #e0d3c1;
      color: #a1927f;
      text-decoration: line-through;
    }

    .num-chip.current {
      background: #2f6f4e;
      color: #fffaf3;
      border-color: #22533a;
      font-weight: 600;
    }

    .used-text {
      margin-top: 10px;
      font-size: 0.8rem;
      color: #8a7c6b;
    }
  </style>
</head>
<body>
  <div class="page">
    <div>
      <div class="eyebrow">REFLECTION ACTIVITY</div>
      <div class="title-row">
        <h1>Decolonising Ourselves ‚Äî Bingo Draw</h1>
        <div class="subtitle">
          Draw a number ‚Üí Reveal ‚Üí <strong>Start timer manually</strong> ¬∑ No repeats.
        </div>
      </div>

      <div class="controls-row">
        <button id="btnDraw" class="btn btn-primary">üé≤ Draw Number</button>
        <button id="btnReveal" class="btn btn-outline">üëÅ Reveal Question</button>
        <button id="btnStartTimer" class="btn btn-outline">‚è± Start Timer</button>
        <button id="btnReset" class="btn btn-danger">‚ôªÔ∏è Reset</button>
      </div>

      <div class="shortcuts">
        Shortcuts:
        <kbd>Space</kbd> draw ¬∑
        <kbd>Enter</kbd> reveal ¬∑
        <kbd>T</kbd> start timer ¬∑
        <kbd>R</kbd> reset
      </div>
    </div>

    <div class="main-layout">
      <!-- LEFT -->
      <div class="left-card">
        <div class="circle-wrapper">
          <div id="circle" class="number-circle">
            <div id="numberDisplay" class="current-number">‚Äì</div>
            <div id="timerDisplay" class="timer"></div>
          </div>
        </div>

        <div class="question-card">
          <div class="question-label">Question</div>
          <div id="questionDisplay" class="question-text">
            Draw a number first to reveal its matching reflection prompt.
          </div>
        </div>
      </div>

      <!-- RIGHT -->
      <aside class="right-panel">
        <div class="right-title">Numbers (1‚Äì20)</div>
        <div id="numbersGrid" class="numbers-grid"></div>
        <div id="usedText" class="used-text"></div>
      </aside>
    </div>
  </div>

  <script>
    const questions = {
      1: "What is one new thing you learned about colonisation or cultural safety today?",
      2: "How did this topic change the way you think about your own culture or background?",
      3: "Why do you think it‚Äôs important for us to talk about decolonisation in healthcare?",
      4: "What surprised you the most from today‚Äôs presentation?",
      5: "Can you think of a moment when you realised that ‚Äúone way of doing things‚Äù isn‚Äôt always right for everyone?",
      6: "What does respect mean to you when working with people from a different culture?",
      7: "How can we make sure we are open-minded when learning from Indigenous people?",
      8: "What does a culturally safe conversation look or sound like to you?",
      9: "How can an OT show that they value a client‚Äôs culture and knowledge?",
      10: "Why is it important to ask clients what goals they want instead of deciding for them?",
      11: "How could you work with Elders or Aboriginal Health Workers in your future practice?",
      12: "What might make a client feel unsafe or uncomfortable in a service, and how could we change that?",
      13: "What does ‚Äúsharing power‚Äù between professionals and clients mean in your own words?",
      14: "How can we use listening and yarning to build better trust?",
      15: "Why is having Aboriginal-led services important for communities?",
      16: "How does connecting to a country or culture help people feel healthy and strong?",
      17: "What can organisations do to make sure Indigenous voices are included in decision-making?",
      18: "How can non-Indigenous and Indigenous people learn from each other?",
      19: "What does real equality look like in healthcare or education?",
      20: "What is one small action you can take to help decolonise yourself ‚Äî at uni, in practice, or in daily life?"
    };

    const circle = document.getElementById("circle");
    const numberDisplay = document.getElementById("numberDisplay");
    const questionDisplay = document.getElementById("questionDisplay");
    const timerDisplay = document.getElementById("timerDisplay");
    const numbersGrid = document.getElementById("numbersGrid");
    const usedText = document.getElementById("usedText");

    const btnDraw = document.getElementById("btnDraw");
    const btnReveal = document.getElementById("btnReveal");
    const btnStartTimer = document.getElementById("btnStartTimer");
    const btnReset = document.getElementById("btnReset");

    let remaining = [];
    let currentNumber = null;
    let questionRevealed = false;
    let timer = null;
    let timeLeft = 30;
    let isDrawing = false;

    function buildGrid() {
      numbersGrid.innerHTML = "";
      for (let i = 1; i <= 20; i++) {
        const chip = document.createElement("div");
        chip.className = "num-chip";
        chip.id = "num-" + i;
        chip.textContent = i;
        numbersGrid.appendChild(chip);
      }
    }

    function updateGrid() {
      for (let i = 1; i <= 20; i++) {
        const chip = document.getElementById("num-" + i);
        const isRemaining = remaining.includes(i);
        chip.classList.toggle("drawn", !isRemaining);
        chip.classList.toggle("current", i === currentNumber);
      }
      const used = 20 - remaining.length;
      usedText.textContent = `Used: ${used} of 20`;
    }

    function clearTimer() {
      if (timer) clearInterval(timer);
      timer = null;
      timerDisplay.classList.remove("running");
    }

    function startTimer() {
      if (!currentNumber || !questionRevealed) return;
      clearTimer();
      timeLeft = 30;
      timerDisplay.textContent = timeLeft + "s";
      timerDisplay.classList.add("running");

      timer = setInterval(() => {
        timeLeft--;
        if (timeLeft <= 0) {
          timerDisplay.textContent = "Time's up!";
          clearTimer();
        } else {
          timerDisplay.textContent = timeLeft + "s";
        }
      }, 1000);
    }

    function drawNumber() {
      if (isDrawing) return;
      if (remaining.length === 0) {
        currentNumber = null;
        numberDisplay.textContent = "‚úì";
        questionDisplay.textContent = "All 20 questions have been used ‚Äî thank you for reflecting together.";
        clearTimer();
        timerDisplay.textContent = "";
        btnDraw.disabled = true;
        return;
      }

      isDrawing = true;
      circle.classList.add("drawing");
      clearTimer();
      timerDisplay.textContent = "";

      // quick "rolling" preview
      const previewInterval = 80; // ms
      let rolling = setInterval(() => {
        const temp = remaining[Math.floor(Math.random() * remaining.length)];
        numberDisplay.textContent = temp;
      }, previewInterval);

      setTimeout(() => {
        clearInterval(rolling);

        const index = Math.floor(Math.random() * remaining.length);
        currentNumber = remaining.splice(index, 1)[0];

        numberDisplay.textContent = currentNumber;
        questionDisplay.textContent = "Press Enter (or click Reveal) to show the question for this number.";
        questionRevealed = false;
        circle.classList.remove("drawing");
        isDrawing = false;
        updateGrid();
      }, 900); // about 1 second of rolling
    }

    function revealQuestion() {
      if (!currentNumber) return;
      questionDisplay.textContent = questions[currentNumber] || "No question set.";
      questionRevealed = true;
    }

    function resetAll() {
      remaining = Array.from({ length: 20 }, (_, i) => i + 1);
      currentNumber = null;
      questionRevealed = false;
      isDrawing = false;
      numberDisplay.textContent = "‚Äì";
      questionDisplay.textContent = "Draw a number first to reveal its matching reflection prompt.";
      circle.classList.remove("drawing");
      clearTimer();
      timerDisplay.textContent = "";
      btnDraw.disabled = false;
      updateGrid();
    }

    btnDraw.addEventListener("click", drawNumber);
    btnReveal.addEventListener("click", revealQuestion);
    btnStartTimer.addEventListener("click", startTimer);
    btnReset.addEventListener("click", resetAll);

    document.addEventListener("keydown", (e) => {
      const active = document.activeElement;
      const typing = active && (active.tagName === "INPUT" || active.tagName === "TEXTAREA");
      if (typing) return;

      if (e.code === "Space") {
        e.preventDefault();
        drawNumber();
      } else if (e.key === "Enter") {
        e.preventDefault();
        revealQuestion();
      } else if (e.key.toLowerCase() === "t") {
        e.preventDefault();
        startTimer();
      } else if (e.key.toLowerCase() === "r") {
        e.preventDefault();
        resetAll();
      }
    });

    buildGrid();
    resetAll();
  </script>
</body>
</html>
